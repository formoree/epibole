# 10.27 决策树

### 解决步骤

1. 拿到项目后，发现是决策树类问题，感觉很简单
2. 导入数据后进行处理
3. 需要提取字符串中数字量并进行运算
   1. str.extrct
   2. str.split 并进行多位分割
4. 需要对分割好的Serise型数字进行运算
   1. atype() 不行会有报错
   2. to_numberical() 只能对单列进行运算
5. 分割时出现的空值在后续运算中变为nan，进行空值填充
6. 训练集和测试集的划分出现错误 导致分数奇低
7. validation_curve的绘制
8. 如何将模型应用到测试集中

### 花费时间

下午两点~~下午六点  下午七点~下午九点  

### 收获

1. 从字符串类型中提取数字
   1. str.extrct
   2. str.split 并进行多位分割
   3. match函数进行数字提取
   4. 特殊的如地名，可以转化为经纬度

# 11.8 RNN时间序列预测

### 数据清理模块

1. str.replace() 不会更改原字符串的值，需要在操作之后进行赋值
2. datatime模块对于时间结构的要求过于严苛，一般还是使用正则表达式进行数字的提取。
3. 对于dataframe中object类型数据的认识
4. 神经网络笔记梳理(serise的增删改查)

### 网络模块

基本与模板相同，我只需要画画图更改数据图即可。

> PS:为什么最后预测的维度与dataset不同？增加的网络层数对数据的原始结构的关系是什么？

# 11.12 Kaggle 随机森林补充缺值

1. 缺值常见的处理方法
   1. 如果缺值的样本占总数比例极高，我们可能就直接舍弃了，作为特征加入的话，可能反倒带入noise，影响最后的结果了
   2. 如果缺值的样本适中，而该属性非连续值特征属性(比如说类目属性)，那就把NaN作为一个新类别，加到类别特征中
   3. 如果缺值的样本适中，而该属性为连续值特征属性，有时候我们会考虑给定一个step(比如这里的age，我们可以考虑每隔2/3岁为一个步长)，然后把它离散化，之后把NaN作为一个type加到属性类目中。
   4. 有些情况下，缺失的值个数并不是特别多，那我们也可以试着根据已有的值，拟合一下数据，补充上。 （后两种处理方式应该都是可行的，我们先试试拟合补全吧
   5. 用scikit-learn中的RandomForest来拟合一下缺失的年龄数据，用RandomForest在原始数据中做不同采样，建立多颗DecisionTree，再进行average等等来降低过拟合现象

> 具体在代码中的体现：
>
> ​	这里随机森林的基本原理就是先把我上述分析后的特征，摘取有用的丢进去，毕竟原理就是decision tree是一个将过程说透彻的过程，大致是这样：
>
> > 1.丢有用特征值丢进去，这里扔进去的是‘Age','Fare', 'Parch', 'SibSp', 'Pclass’
> >
> > 2.然后known age是一个特征矩阵，第一行是age，其他行是特征属性值
> >
> > 3.之后比较机械化，用随机森林通过特征值拟合出unknown age，并填入。
> >
> > 4.对cabin值进行二分，yes和no